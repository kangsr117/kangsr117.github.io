import { addPropertyControls, ControlType } from 'framer';
import * as React from 'react';
import { colors } from '../@tossteam/colors';
import {
  default as TDSProgressBar,
  Props as TDSProgressBarProps,
} from '../@tossteam/tds-web/react/components/ProgressBar/ProgressBar';
import { TDSComponent } from '../src/components/TDSComponent';
import '../src/styles/tds-framer.css';
import { makeComponentDisplayName } from '../src/utils/makeDisplayName';

const sizeLabels = ['ì–‡ìŒ', 'ë³´í†µ', 'êµµìŒ'] as const;
const colorLabels = ['ğŸ”µ ë¸”ë£¨', 'ğŸ”´ ë ˆë“œ', 'ğŸŸ¢ ê·¸ë¦°', 'ğŸŒ‘ ê·¸ë ˆì´'] as const;

type SizeLabel = typeof sizeLabels[number];
type ColorLabel = typeof colorLabels[number];

interface Props {
  size: SizeLabel;
  color: ColorLabel;
  progress: number;
}

const sizeByControlLabel: {
  [key in SizeLabel]: TDSProgressBarProps['size'];
} = {
  ì–‡ìŒ: 'light',
  ë³´í†µ: 'normal',
  êµµìŒ: 'bold',
};

const colorByControlLabel: {
  [key in ColorLabel]: TDSProgressBarProps['color'];
} = {
  'ğŸ”µ ë¸”ë£¨': colors.blue500,
  'ğŸ”´ ë ˆë“œ': colors.red500,
  'ğŸŸ¢ ê·¸ë¦°': colors.green400,
  'ğŸŒ‘ ê·¸ë ˆì´': colors.grey600,
};

export function ProgressBar({ size, color, progress }: Props) {
  return (
    <TDSComponent
      name="ProgressBar"
      summary={{
        size: sizeByControlLabel[size],
        color: colorByControlLabel[color],
        progress: `${progress}%`,
      }}
    >
      <TDSProgressBar
        size={sizeByControlLabel[size]}
        color={colorByControlLabel[color]}
        progress={progress / 100}
        animate={true}
      />
    </TDSComponent>
  );
}

addPropertyControls(ProgressBar, {
  size: {
    title: 'í¬ê¸°',
    type: ControlType.Enum,
    displaySegmentedControl: true,
    options: sizeLabels as any,
    defaultValue: sizeLabels[1],
  },
  color: {
    title: 'ìƒ‰ìƒ',
    type: ControlType.Enum,
    options: colorLabels as any,
    defaultValue: colorLabels[0],
  },
  progress: {
    title: 'í”„ë¡œê·¸ë ˆìŠ¤',
    type: ControlType.Number,
    min: 0,
    max: 100,
    defaultValue: 50,
  },
});

(ProgressBar as any).defaultProps = {
  width: 327,
  height: 5,
};

ProgressBar.displayName = makeComponentDisplayName('ProgressBar', 'í”„ë¡œê·¸ë ˆìŠ¤ë°”');

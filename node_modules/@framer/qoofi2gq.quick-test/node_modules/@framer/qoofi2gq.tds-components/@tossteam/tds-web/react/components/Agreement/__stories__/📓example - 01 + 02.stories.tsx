import { action } from '@storybook/addon-actions';
import { storiesOf } from '@storybook/react';
import * as React from 'react';

import { Agreement, AgreementList } from 'src/react';

import Readme from '../README.md';

storiesOf('Agreement', module)
  .addParameters({
    sidebar: Readme,
  })
  .add('📓example - 01 + 02', () => {
    function AgreementRow01And02Example() {
      const [[checked1, checked2], setChecked] = React.useState([false, false]);

      function onChangeAgreement01(event: React.ChangeEvent<HTMLInputElement>) {
        const { checked } = event.target;
        setChecked([checked, checked]);
        action('onChange - Agreement01 - 약관에 모두 동의')(event);
      }

      function onChangeAgreement02(event: React.ChangeEvent<HTMLInputElement>) {
        const { checked } = event.target;
        setChecked([checked1, checked]);
        action('onChange - Agreement02 - 토스 필수 항목 모두 동의')(event);
      }

      return (
        <Agreement.Section>
          <Agreement.Row01
            checked={checked1 && checked2}
            onChange={onChangeAgreement01}
            right={
              <Agreement.RightArrow
                onClick={action('onClick - ArrowRow01 label - 약관에 모두 동의')}
              />
            }
          >
            약관에 모두 동의
          </Agreement.Row01>

          <AgreementList>
            <Agreement.Row02 checked={checked2} onChange={onChangeAgreement02}>
              토스 필수 항목 모두 동의
            </Agreement.Row02>
          </AgreementList>
        </Agreement.Section>
      );
    }

    return <AgreementRow01And02Example />;
  });

import { action } from '@storybook/addon-actions';
import { boolean } from '@storybook/addon-knobs';
import { storiesOf } from '@storybook/react';
import * as React from 'react';

import { Switch } from 'src/react';

type SwitchProps = React.ComponentProps<typeof Switch>;

type Props = Pick<SwitchProps, 'disabled'>;

function Example(props: Props) {
  const [checked, setChecked] = React.useState<SwitchProps['checked']>(false);

  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    action(`Setting value to ${e.target.checked}`)(e);
    setChecked(e.target.checked);
  };

  return (
    <div style={{ border: '1px solid rgba(0, 0, 0, 0.08)', padding: '8px' }}>
      <div
        style={{
          padding: '2px',
        }}
      >
        <Switch {...props} checked={checked} onChange={onChange} />
      </div>
    </div>
  );
}

storiesOf('Switch', module)
  .addParameters({})
  .add('ðŸ““example - full', () => {
    const disabled = boolean('disabled', false);

    const props = {
      disabled,
    };

    return <Example {...props} />;
  });

@import 'variables';
@import 'mixins';

@keyframes rotation {
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
}

@keyframes turn {
  0% {
    stroke-dashoffset: 180;
  }

  50% {
    stroke-dashoffset: 45;
    transform: rotate(108deg);
  }

  100% {
    stroke-dashoffset: 180;
    transform: rotate(360deg);
  }
}

.loader {
  display: inline-flex;
  flex-direction: column;
  align-items: center;

  @include loader-size('large');

  &__animation {
    animation: rotation 1.8s linear infinite forwards;
    stroke: #3188ff;

    &__circle {
      stroke-dasharray: 180;
      stroke-dashoffset: 0;
      transform-origin: center;
      animation: turn 1.8s ease-in-out infinite forwards;
    }
  }

  &__label {
    white-space: pre-line;
    text-align: center;
  }

  &--type-primary {
    .loader__animation {
      stroke: #3188ff;
    }

    .loader__label {
      @include adaptive('color', grey800);
    }
  }

  &--type-dark {
    .loader__animation {
      stroke: $grey600;
    }

    .loader__label {
      color: $grey800;
    }
  }

  &--type-light {
    .loader__animation {
      stroke: $white;
    }

    .loader__label {
      color: $whiteOpacity800;
    }
  }

  @each $size, $properties in $loader-sizes {
    &--size-#{$size} {
      @include loader-size($size);
    }
  }

  svg {
    display: block;
    path[stroke='rgb(255,255,255)'] {
      stroke: currentColor !important;
    }
  }
}

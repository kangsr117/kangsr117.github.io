import { action } from '@storybook/addon-actions';
import { storiesOf } from '@storybook/react';
import * as React from 'react';

import Agreement from '../Agreement';
import Readme from '../README.md';

storiesOf('Agreement', module)
  .addParameters({
    sidebar: Readme,
  })
  .addDecorator(storyFn => <Agreement.List>{storyFn()}</Agreement.List>)
  // `AgreementRow02`는 단독으로 사용하지 않고 `AgreementList` 의 제일 상단에 넣어 사용합니다.
  .add('Agreement.Row02', () => {
    function AgreementRow02Example() {
      const [checked, setChecked] = React.useState(false);

      function onChange(event: React.ChangeEvent<HTMLInputElement>) {
        setChecked(event.target.checked);
        action('onChange - Agreement.Row02')(...arguments);
      }

      return (
        <>
          <Agreement.Row02 checked={checked} onChange={onChange}>
            약관에 모두 동의
          </Agreement.Row02>
          <Agreement.Row02
            checked={checked}
            onChange={onChange}
            right={
              <Agreement.RightArrow onClick={action('onClick - Agreement.Row02 right arrow')} />
            }
          >
            약관에 모두 동의
          </Agreement.Row02>
        </>
      );
    }

    return <AgreementRow02Example />;
  });

import { isSameDay } from 'date-fns';
import { useCallback, useMemo } from 'react';

import { CalendarModifierSetOf } from '../models/CalendarModifierSet';

type ModifierSet = CalendarModifierSetOf<'selected'>;

export default function useSinglePickModifiers(selectedDate: Date | undefined) {
  const isSelected = useCallback(
    ({ date }) => {
      if (selectedDate !== undefined) {
        return isSameDay(date, selectedDate);
      }

      return false;
    },
    [selectedDate]
  );

  return useMemo(
    (): ModifierSet => ({
      selected: isSelected,
    }),
    [isSelected]
  );
}

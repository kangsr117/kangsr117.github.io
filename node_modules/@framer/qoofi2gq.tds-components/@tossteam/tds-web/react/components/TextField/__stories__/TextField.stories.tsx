import { action } from '@storybook/addon-actions';
import { storiesOf } from '@storybook/react';
import * as React from 'react';

import { Form, TextField } from 'src/react';

import Readme from '../README.md';

storiesOf('TextField', module)
  .addParameters({ readme: { sidebar: Readme } })
  .add('Overview', () => {
    function TextFieldFullExample() {
      const [name, setName] = React.useState('');
      const [englishFirstName, setEnglishFirstName] = React.useState('');
      const [englishLastName, setEnglishLastName] = React.useState('');
      const [firstResidentNumber, setFirstResidentNumber] = React.useState('');
      const [lastResidentNumber, setLastResidentNumber] = React.useState('');
      const [amount, setAmount] = React.useState('');

      function onChangeName(event: React.ChangeEvent<HTMLInputElement>) {
        setName(event.target.value);
        action('onChange - TextField - 이름')(...arguments);
      }

      function onChangeEnglishFirstName(event: React.ChangeEvent<HTMLInputElement>) {
        setEnglishFirstName(event.target.value);
        action('onChange - TextField - 영문 성')(...arguments);
      }

      function onChangeEnglishLastName(event: React.ChangeEvent<HTMLInputElement>) {
        setEnglishLastName(event.target.value);
        action('onChange - TextField - 영문 이름')(...arguments);
      }

      function onChangeFirstResidentNumber(event: React.ChangeEvent<HTMLInputElement>) {
        setFirstResidentNumber(event.target.value);
        action('onChange - TextField - 주민번호 앞자리')(...arguments);
      }

      function onChangeLastResidentNumber(event: React.ChangeEvent<HTMLInputElement>) {
        setLastResidentNumber(event.target.value);
        action('onChange - TextField - 주민번호 뒷자리')(...arguments);
      }

      function onChangeAmount(event: React.ChangeEvent<HTMLInputElement>) {
        setAmount(event.target.value);
        action('onChange - TextField - 금액')(...arguments);
      }

      return (
        <Form>
          <Form.Group label="이름">
            <TextField placeholder="이름" value={name} onChange={onChangeName} />
          </Form.Group>
          <Form.Group label="영문 이름" isHorizontal={true}>
            <TextField
              placeholder="영문 성"
              value={englishLastName}
              onChange={onChangeEnglishLastName}
            />
            <TextField
              placeholder="영문 이름"
              value={englishFirstName}
              onChange={onChangeEnglishFirstName}
            />
          </Form.Group>
          <Form.Group label="주민번호" isHorizontal={true}>
            <TextField
              placeholder="주민번호 앞자리"
              value={firstResidentNumber}
              onChange={onChangeFirstResidentNumber}
            />
            <TextField
              placeholder="주민번호 뒷자리"
              value={lastResidentNumber}
              onChange={onChangeLastResidentNumber}
            />
          </Form.Group>
          <Form.Group label="금액">
            <TextField
              type="tel"
              placeholder="최대 30만원"
              suffix="만원"
              value={amount}
              onChange={onChangeAmount}
            />
          </Form.Group>
        </Form>
      );
    }

    return <TextFieldFullExample />;
  });

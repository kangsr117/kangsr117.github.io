import { action } from '@storybook/addon-actions';
import { storiesOf } from '@storybook/react';
import * as React from 'react';

import Agreement from '../Agreement';
import Readme from '../README.md';

storiesOf('Agreement', module)
  .addParameters({
    sidebar: Readme,
  })
  .addDecorator(storyFn => <Agreement.List>{storyFn()}</Agreement.List>)
  // `AgreementRow01`은 단독으로 사용하지 않고 `AgreementSection` 의 제일 상단에 넣어 사용합니다.
  .add('AgreementRow01', () => {
    function AgreementRow01Example() {
      const [checked, setChecked] = React.useState(false);

      function onChange(event: React.ChangeEvent<HTMLInputElement>) {
        setChecked(event.target.checked);
        action('onChange - AgreementRow01')(...arguments);
      }

      return (
        <>
          <Agreement.Row01 checked={checked} onChange={onChange}>
            약관에 모두 동의
          </Agreement.Row01>
          <Agreement.Row01
            checked={checked}
            onChange={onChange}
            right={<Agreement.RightArrow onClick={action('onClick - AgreementRow01 link')} />}
          >
            약관에 모두 동의
          </Agreement.Row01>
        </>
      );
    }

    return <AgreementRow01Example />;
  });

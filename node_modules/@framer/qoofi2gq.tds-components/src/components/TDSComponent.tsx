import * as React from 'react';
import { ComponentProps } from 'react';
import { useInspectorContext } from '../../code/Inspector';
import { isStaticRenderTarget } from '../utils/isStaticRenderTarget';
import { InspectorComponent } from './InspectorComponent';

interface Props {
  disabled?: boolean;
}

export function TDSComponent({
  children,
  name,
  summary,
  disabled = false,
}: Props & ComponentProps<typeof InspectorComponent>) {
  const { inInspector } = useInspectorContext();

  if (disabled || isStaticRenderTarget() || !inInspector) {
    return <>{children}</>;
  }

  return (
    <InspectorComponent name={name} summary={summary}>
      {children}
    </InspectorComponent>
  );
}

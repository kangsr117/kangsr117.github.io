import { addPropertyControls, ControlType } from 'framer';
import * as React from 'react';
import { List as TDSList } from '../@tossteam/tds-web/react/components/List';
import {
  TableRowLeft as TDSTableRowLeft,
  TableRowRight as TDSTableRowRight,
} from '../@tossteam/tds-web/react/components/TableRow';
import { default as Txt } from '../@tossteam/tds-web/react/components/Text';
import { FontWeightValue } from '../@tossteam/tds-web/react/components/Text/Text';
import { TDSComponent } from '../src/components/TDSComponent';
import '../src/styles/tds-framer.css';
import { makeComponentDisplayName } from '../src/utils/makeDisplayName';
import { colors as canvasColors } from './canvas';

const alignmentLabels = ['ì–‘ë', 'ì¢Œì¸¡'] as const;
const fontWeightLabels = ['ë ˆê·¤ëŸ¬', 'ë¯¸ë””ì—„', 'ë³¼ë“œ'] as const;

type AlignmentLabel = typeof alignmentLabels[number];
type FontWeightLabel = typeof fontWeightLabels[number];

const componentByAlignmentControlLabel: {
  [key in AlignmentLabel]: JSX.Element;
} = {
  ì¢Œì¸¡: <TDSTableRowLeft left="" right="" />,
  ì–‘ë: <TDSTableRowRight left="" right="" />,
};

const fontWeightByControlLabel: {
  [key in FontWeightLabel]: FontWeightValue;
} = {
  ë ˆê·¤ëŸ¬: 'regular',
  ë¯¸ë””ì—„: 'medium',
  ë³¼ë“œ: 'bold',
};

interface Props {
  alignment: AlignmentLabel;
  leftRatio: number;
  leftTextFontWeight: FontWeightLabel;
  leftText: string;
  leftTextColor: string;
  rightTextFontWeight: FontWeightLabel;
  rightText: string;
  rightTextColor: string;
}

export function TableRow({
  alignment,
  leftRatio,
  leftTextFontWeight,
  leftText,
  leftTextColor,
  rightTextFontWeight,
  rightText,
  rightTextColor,
}: Props) {
  const element = componentByAlignmentControlLabel[alignment];
  return (
    <TDSList>
      <TDSComponent
        name={`TableRow`}
        summary={{
          type: alignment === 'ì–‘ë' ? 'TableRowRight' : 'TableRowLeft',
          leftRatio,
          leftText,
          leftTextColor,
          leftTextFontWeight: fontWeightByControlLabel[leftTextFontWeight],
          rightText,
          rightTextColor,
          rightTextFontWeight: fontWeightByControlLabel[rightTextFontWeight],
        }}
      >
        {React.cloneElement(element, {
          leftRatio,
          left: (
            <Txt fontWeight={fontWeightByControlLabel[leftTextFontWeight]} color={leftTextColor}>
              {leftText}
            </Txt>
          ),
          right: (
            <Txt fontWeight={fontWeightByControlLabel[rightTextFontWeight]} color={rightTextColor}>
              {rightText}
            </Txt>
          ),
        })}
      </TDSComponent>
    </TDSList>
  );
}

addPropertyControls(TableRow, {
  alignment: {
    title: 'ğŸ¯ ì •ë ¬',
    type: ControlType.Enum,
    displaySegmentedControl: true,
    options: alignmentLabels as any,
    defaultValue: alignmentLabels[0],
  },
  leftRatio: {
    title: 'ì™¼ìª½ í…ìŠ¤íŠ¸ ë¹„ìœ¨',
    type: ControlType.Number,
    min: 10,
    max: 80,
    defaultValue: 30,
  },
  leftTextFontWeight: {
    title: 'â€¢ ì™¼ìª½',
    type: ControlType.Enum,
    displaySegmentedControl: true,
    options: fontWeightLabels as any,
    defaultValue: fontWeightLabels[0],
  },
  leftText: {
    title: 'â†³ í…ìŠ¤íŠ¸',
    type: ControlType.String,
    defaultValue: 'í…ìŠ¤íŠ¸',
  },
  leftTextColor: {
    title: 'â†³ ì»¬ëŸ¬',
    type: ControlType.Color,
    defaultValue: canvasColors['Grey700 - ì¼ë°˜ì ì¸ í…ìŠ¤íŠ¸'],
  },
  rightTextFontWeight: {
    title: 'â€¢ ì˜¤ë¥¸ìª½',
    type: ControlType.Enum,
    displaySegmentedControl: true,
    options: fontWeightLabels as any,
    defaultValue: fontWeightLabels[1],
  },
  rightText: {
    title: 'â†³ í…ìŠ¤íŠ¸',
    type: ControlType.String,
    defaultValue: 'í…ìŠ¤íŠ¸',
  },
  rightTextColor: {
    title: 'â†³ ì»¬ëŸ¬',
    type: ControlType.Color,
    defaultValue: canvasColors['Grey700 - ì¼ë°˜ì ì¸ í…ìŠ¤íŠ¸'],
  },
});

(TableRow as any).defaultProps = {
  width: 375,
  height: 44,
};

TableRow.displayName = makeComponentDisplayName('Table', 'í…Œì´ë¸”');

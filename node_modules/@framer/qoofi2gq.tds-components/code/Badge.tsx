import { addPropertyControls, ControlType } from 'framer';
import * as React from 'react';
import { Badge as TDSBadge, Props as TDSBadgeProps } from '../@tossteam/tds-web/react/components/Badge/Badge';
import { TDSComponent } from '../src/components/TDSComponent';
import '../src/styles/tds-framer.css';
import { makeComponentDisplayName } from '../src/utils/makeDisplayName';

type TypeLabel = '🔵 블루' | '⚫️ 다크' | '🟠 노랑' | '🔴 빨강' | '🟢 초록' | '🦚 청록';

type SizeLabel = 'Small' | 'Medium' | 'Large';

type StyleLabel = 'Fill' | 'Weak';

interface Props {
  text: string;
  type: TypeLabel;
  size: SizeLabel;
  style: StyleLabel;
}

const typeByControlLabel: {
  [key in TypeLabel]: TDSBadgeProps['type'];
} = {
  '🔵 블루': 'blue',
  '⚫️ 다크': 'elephant',
  '🟠 노랑': 'yellow',
  '🔴 빨강': 'red',
  '🟢 초록': 'green',
  '🦚 청록': 'teal',
};

const sizeByControlLabel: {
  [key in SizeLabel]: TDSBadgeProps['size'];
} = {
  Small: 'small',
  Medium: 'medium',
  Large: 'large',
};

const lineHeightBySizeLabel: {
  [key in SizeLabel]: string;
} = {
  Small: '16px',
  Medium: '19px',
  Large: '20px',
};

const styleByControlLabel: {
  [key in StyleLabel]: TDSBadgeProps['style'];
} = {
  Fill: 'fill',
  Weak: 'weak',
};

export function Badge({ text, type, size, style }: Props) {
  return (
    <div
      style={{
        lineHeight: lineHeightBySizeLabel[size],
        width: 'fit-content',
      }}
    >
      <TDSComponent
        name="Badge"
        summary={{
          type: typeByControlLabel[type],
          size: sizeByControlLabel[size],
          style: styleByControlLabel[style],
          text,
        }}
      >
        <TDSBadge type={typeByControlLabel[type]} size={sizeByControlLabel[size]} style={styleByControlLabel[style]}>
          {text}
        </TDSBadge>
      </TDSComponent>
    </div>
  );
}

addPropertyControls(Badge, {
  text: {
    title: '텍스트',
    type: ControlType.String,
    defaultValue: 'Badge',
  },
  size: {
    title: '크기',
    type: ControlType.Enum,
    displaySegmentedControl: true,
    options: ['Small', 'Medium', 'Large'],
    defaultValue: 'Small',
  },
  style: {
    title: '타입',
    type: ControlType.Enum,
    displaySegmentedControl: true,
    options: ['Fill', 'Weak'],
    defaultValue: 'Fill',
  },
  type: {
    title: '색상',
    type: ControlType.Enum,
    options: ['🔵 블루', '⚫️ 다크', '🟠 노랑', '🔴 빨강', '🟢 초록', '🦚 청록'],
    defaultValue: '🔵 블루',
  },
});

(Badge as any).defaultProps = {
  width: 53,
  height: 18,
};

Badge.displayName = makeComponentDisplayName('Badge', '뱃지');

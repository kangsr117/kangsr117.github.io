import { addPropertyControls, ControlType } from 'framer';
import * as React from 'react';
import { Top as TDSTop } from '../@tossteam/tds-web/react/components/NewTop/Top';
import convertNewLineToJSX from '../@tossteam/tds-web/react/utils/convertNewLineToJSX';
import { TDSComponent } from '../src/components/TDSComponent';
import '../src/styles/tds-framer.css';
import { makeComponentDisplayName } from '../src/utils/makeDisplayName';
import { colors as canvasColors } from './canvas';

const textTypeLabels = [
  'ğŸ—‘ ì—†ìŒ',
  'ğŸ“ƒ ì‘ì€ ì„¤ëª…  ãƒ»  top6',
  'ğŸ“ƒ ì¼ë°˜ì ì¸ ì„¤ëª…  ãƒ»  top5',
  'ğŸ”ˆ ì‘ì€ ì œëª©  ãƒ»  top4',
  'ğŸ”‰ ì¼ë°˜ì ì¸ ì œëª©  ãƒ»  top3',
  'ğŸ”Š í° ì œëª©  ãƒ»  top2',
] as const;

type TextTypeLabel = typeof textTypeLabels[number];

interface Props {
  upper: TextTypeLabel;
  upperText: string;
  upperTextColor: string;
  lower: TextTypeLabel;
  lowerText: string;
  lowerTextColor: string;
}

const textTypeByControlLabel: {
  [key in TextTypeLabel]: JSX.Element;
} = {
  'ğŸ—‘ ì—†ìŒ': null,
  'ğŸ“ƒ ì‘ì€ ì„¤ëª…  ãƒ»  top6': <TDSTop.Text6 />,
  'ğŸ“ƒ ì¼ë°˜ì ì¸ ì„¤ëª…  ãƒ»  top5': <TDSTop.Text5 />,
  'ğŸ”ˆ ì‘ì€ ì œëª©  ãƒ»  top4': <TDSTop.Text4 />,
  'ğŸ”‰ ì¼ë°˜ì ì¸ ì œëª©  ãƒ»  top3': <TDSTop.Text3 />,
  'ğŸ”Š í° ì œëª©  ãƒ»  top2': <TDSTop.Text2 />,
};

const summaryNameByControlLabel: {
  [key in TextTypeLabel]: string;
} = {
  'ğŸ—‘ ì—†ìŒ': null,
  'ğŸ“ƒ ì‘ì€ ì„¤ëª…  ãƒ»  top6': 'top6',
  'ğŸ“ƒ ì¼ë°˜ì ì¸ ì„¤ëª…  ãƒ»  top5': 'top5',
  'ğŸ”ˆ ì‘ì€ ì œëª©  ãƒ»  top4': 'top4',
  'ğŸ”‰ ì¼ë°˜ì ì¸ ì œëª©  ãƒ»  top3': 'top3',
  'ğŸ”Š í° ì œëª©  ãƒ»  top2': 'top2',
};

export function Top({ upper, upperText, upperTextColor, lower, lowerText, lowerTextColor }: Props) {
  const upperComponent = textTypeByControlLabel[upper];
  const lowerComponent = textTypeByControlLabel[lower];

  return (
    <TDSComponent
      name="Top"
      summary={{
        upper: upperComponent ? summaryNameByControlLabel[upper] : undefined,
        upperText: upperComponent ? upperText : undefined,
        upperTextColor: upperComponent ? upperTextColor : undefined,
        lower: lowerComponent ? summaryNameByControlLabel[lower] : undefined,
        lowerText: lowerComponent ? lowerText : undefined,
        lowerTextColor: lowerComponent ? lowerTextColor : undefined,
      }}
    >
      <TDSTop
        upper={
          upperComponent &&
          React.cloneElement(upperComponent, { style: { color: upperTextColor } }, convertNewLineToJSX(upperText))
        }
        lower={
          lowerComponent &&
          React.cloneElement(lowerComponent, { style: { color: lowerTextColor } }, convertNewLineToJSX(lowerText))
        }
      />
    </TDSComponent>
  );
}

addPropertyControls(Top, {
  upper: {
    title: 'ìœ„ìª½',
    type: ControlType.Enum,
    options: textTypeLabels as any,
    defaultValue: 'ğŸ”‰ ì¼ë°˜ì ì¸ ì œëª©  ãƒ»  top3',
  },
  upperText: {
    title: 'â†³ í…ìŠ¤íŠ¸',
    type: ControlType.String,
    defaultValue: 'í…ìŠ¤íŠ¸ë¥¼ ì ì–´ì£¼ì„¸ìš”',
    displayTextArea: true,
    hidden(props) {
      return props.upper === 'ğŸ—‘ ì—†ìŒ';
    },
  },
  upperTextColor: {
    title: 'â†³ ì»¬ëŸ¬',
    type: ControlType.Color,
    defaultValue: canvasColors['Grey800 - ì œëª© í…ìŠ¤íŠ¸'],
    hidden(props) {
      return props.upper === 'ğŸ—‘ ì—†ìŒ';
    },
  },
  lower: {
    title: 'ì•„ë˜ìª½',
    type: ControlType.Enum,
    options: textTypeLabels as any,
    defaultValue: 'ğŸ—‘ ì—†ìŒ',
  },
  lowerText: {
    title: 'â†³ í…ìŠ¤íŠ¸',
    type: ControlType.String,
    defaultValue: 'í…ìŠ¤íŠ¸ë¥¼ ì ì–´ì£¼ì„¸ìš”',
    displayTextArea: true,
    hidden(props) {
      return props.lower === 'ğŸ—‘ ì—†ìŒ';
    },
  },
  lowerTextColor: {
    title: 'â†³ ì»¬ëŸ¬',
    type: ControlType.Color,
    defaultValue: canvasColors['Grey800 - ì œëª© í…ìŠ¤íŠ¸'],
    hidden(props) {
      return props.lower === 'ğŸ—‘ ì—†ìŒ';
    },
  },
});

(Top as any).defaultProps = {
  width: 375,
  height: 55,
};

Top.displayName = makeComponentDisplayName('Top', 'íƒ‘');

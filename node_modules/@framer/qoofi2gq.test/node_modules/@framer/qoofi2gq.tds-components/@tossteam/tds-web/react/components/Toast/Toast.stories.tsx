import { boolean } from "@storybook/addon-knobs";
import { storiesOf } from "@storybook/react";
import * as React from "react";
import { FixedBottomCTA } from "src/react";
import { useToast } from "src/react/providers/ToastContext";
import DummyList from "../../storybook/DummyList";
import { Button } from "../Button";
import Toast from "./Toast";

storiesOf("Toast", module)
  .add("Overview", () => {
    return (
      <Toast
        open={true}
        icon="icn-warning-color"
        text={"정보를 받아오지 못했습니다\n잠시후 다시 시도하세요"}
        button={
          <Button type="light" style="weak">
            닫기
          </Button>
        }
      />
    );
  })
  .add("useToast", () => {
    function Example() {
      const { openToast } = useToast();

      return (
        <>
          <Button
            onClick={() => {
              openToast({
                icon: "icn-warning-color",
                text: "정보를 받아오지 못했습니다\n잠시후 다시 시도하세요",
              });
            }}
          >
            토스트 1
          </Button>
          <Button
            onClick={() => {
              openToast({
                icon: "icn-success-color",
                text: "신청이 완료되었습니다.",
                button: <Button>확인</Button>,
              });
            }}
          >
            토스트 2
          </Button>
          <DummyList />
        </>
      );
    }

    return <Example />;
  })
  .add("higherThanCTA 옵션", () => {
    function HigherThanCTAOptionExample() {
      const { openToast } = useToast();
      const higherThanCTA = boolean("higherThanCTA", true);

      return (
        <>
          <Button
            onClick={() => {
              openToast({
                text: "계좌 비밀번호가 변경되었습니다.",
                higherThanCTA,
              });
            }}
          >
            토스트 열기
          </Button>
          <FixedBottomCTA>CTA</FixedBottomCTA>
        </>
      );
    }

    return <HigherThanCTAOptionExample />;
  });

import { action } from '@storybook/addon-actions';
import { storiesOf } from '@storybook/react';
import _ from 'lodash';
import * as React from 'react';

import { Agreement, FixedBottomCTA } from 'src/react';

import Readme from '../README.md';

storiesOf('Agreement', module)
  .addParameters({ readme: { sidebar: Readme } })
  .add('ğŸ““example - 01 + 03', () => {
    function AgreementRow01And03Example() {
      const [[mustChecked, optionalChecked], setChecked] = React.useState([false, false]);

      function onChangeAllChecked(event: React.ChangeEvent<HTMLInputElement>) {
        const { checked } = event.target;
        setChecked([checked, checked]);
        action('onChange - Agreement01 - ì•½ê´€ì— ëª¨ë‘ ë™ì˜')(event);
      }

      function onClickStartButton() {
        if (mustChecked) {
          alert(`ì„±ê³µ!`);
        } else {
          alert('í•„ìˆ˜ ì•½ê´€ì— ë™ì˜í•´ì£¼ì„¸ìš”.');
        }
      }

      return (
        <>
          <Agreement.Section>
            <Agreement.Row01
              checked={mustChecked && optionalChecked}
              onChange={onChangeAllChecked}
              right={
                <Agreement.RightArrow
                  onClick={action('onClick - ArrowRow01 label - ì•½ê´€ì— ëª¨ë‘ ë™ì˜')}
                />
              }
            >
              ì•½ê´€ì— ëª¨ë‘ ë™ì˜
            </Agreement.Row01>

            <Agreement.List>
              {_.times(4).map(index => (
                <Agreement.Row03
                  onClick={action(`onClick - AgreementRow03 - í•„ìˆ˜ í•­ëª© ${index + 1}`)}
                  key={`agreement-${index}`}
                >
                  í•„ìˆ˜ í•­ëª© {index + 1}
                </Agreement.Row03>
              ))}
              <Agreement.Row03 onClick={action(`onClick - AgreementRow03 - í•„ìˆ˜ í•­ëª©`)}>
                ì²« ì¤„ ì²« ì¤„ ì²« ì¤„
                <br />ë‘˜ ì§¸ ì¤„ ë‘˜ ì§¸ ì¤„ ë‘˜ ì§¸ ì¤„
              </Agreement.Row03>
            </Agreement.List>
          </Agreement.Section>
          <FixedBottomCTA onClick={onClickStartButton}>ì‹œì‘</FixedBottomCTA>
        </>
      );
    }

    return <AgreementRow01And03Example />;
  });

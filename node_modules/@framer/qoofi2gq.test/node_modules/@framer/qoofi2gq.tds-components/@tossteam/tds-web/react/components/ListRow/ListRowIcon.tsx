import cx from "classnames";
import * as React from "react";
import { HTMLAttributes } from "react";

import { Icon, IconProps } from "../Icon";

interface BaseProps extends HTMLAttributes<HTMLDivElement> {
  className?: string;

  type?: "default" | "small" | "border" | "background";
}

interface UrlIconProps extends BaseProps {
  url: string;
}

interface NamedIconProps extends BaseProps {
  name: IconProps["name"];
  color?: IconProps["color"];
}

export type Props = UrlIconProps | NamedIconProps;

export default function ListRowIcon({
  className,
  color,
  type,
  ...props
}: Props) {
  return (
    <div
      {...props}
      className={cx(
        "list-row__icon",
        {
          [`list-row__icon--type-${type}`]: type,
        },
        className
      )}
    >
      {"url" in props ? (
        <img
          style={{ width: type === "small" ? "20px" : "24px" }}
          src={props.url}
          role="presentation"
        />
      ) : (
        <Icon
          name={props.name}
          color={color}
          size={type === "small" ? 20 : 24}
        />
      )}
    </div>
  );
}
